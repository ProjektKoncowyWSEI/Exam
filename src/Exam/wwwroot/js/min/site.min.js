function filter(e,t,o,n){let s=document.querySelector("#"+e).value;s.length>0?document.querySelector("#"+t).classList.remove("hidden"):document.querySelector("#"+t).classList.add("hidden");let r=document.querySelector(o).querySelectorAll(n);for(let e=0;e<r.length;e++)r[e].textContent.toLowerCase().includes(s.toLowerCase())||r[e].outerText.toLowerCase().includes(s.toLowerCase())?showBlock(r[e]):hideBlock(r[e])}function showBlock(e){e.classList.remove("hidden")}function hideBlock(e){e.classList.add("hidden")}function clearFilter(e,t,o,n){document.querySelector("#"+e).value=null,filter(e,t,o,n),document.querySelector("#"+e).select()}function escapeSearch(e,t,o,n,s){27==e.keyCode&&clearFilter(t,o,n,s)}function toggleTr(e,t){$(t).hasClass("fa-chevron-down")?($(t).removeClass("fa-chevron-down"),$(t).addClass("fa-chevron-up")):($(t).removeClass("fa-chevron-up"),$(t).addClass("fa-chevron-down")),$(e).slideToggle();try{$("html, body").animate({scrollTop:$(t).offset().top-150},500)}catch(e){}}function toggleTrs(e,t,o){$(o).hasClass("fa-chevron-down")?($(o).removeClass("fa-chevron-down"),$(o).addClass("fa-chevron-up")):($(o).removeClass("fa-chevron-up"),$(o).addClass("fa-chevron-down")),$(e).slideToggle(),$(t).slideToggle();try{$("html, body").animate({scrollTop:$(o).offset().top-150},500)}catch(e){}}function hideElement(e){showLoader(),$(e).hide()}function showLoader(){$("#loader").show()}function hideLoader(){$("#loader").hide()}function addError(e,t){$(".alertContainer").html(`\n    <div class='alert alert-danger alert-dismissible fade show alertPosition' role = 'alert'>\n        <strong >${e}: <br /></strong > ${t}\n        <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n            <span aria-hidden="true">&times;</span>\n        </button>\n    </div >`),window.setTimeout(function(){$(".alert").slideUp(500,function(){$(this).remove()})},1e4)}class Model{constructor(e,t,o){this.examId=e,this.code=t,this.questions=o}}class Question{constructor(e,t){this.id=e,this.answers=t}}class Answer{constructor(e,t){this.id=e,this.checked=t}}let model={};function createModel(e){let t=[];for(let o=0;o<e.questions.length;o++){let n=[];for(let t=0;t<e.questions[o].answers.length;t++)n.push(new Answer(e.questions[o].answers[t].id,!1));const s=new Question(e.questions[o].id,n);t.push(s),model=new Model(e.id,e.code,t)}}function setAnswer(e,t,o,n){if(8==n)for(let n=0;n<model.questions[e].answers.length;n++)n==t?model.questions[e].answers[t].checked=o.checked:model.questions[e].answers[n].checked=!1;else(n=16)&&(model.questions[e].answers[t].checked=o.checked);$("#question_"+e).removeClass("required")}function validInput(){let e=[];for(let o=0;o<model.questions.length;o++){let n=!1;for(var t=0;t<model.questions[o].answers.length;t++)model.questions[o].answers[t].checked&&(n=!0);n?$("#question_"+o).removeClass("required"):(e.push(model.questions[o]),$("#question_"+o).addClass("required"))}return e}function addRequired(e){}function removeRequired(e){}function sendExam(){let e=validInput().length;if(e>0){let o="Brak odpowiedzi w pytaniach: ";for(var t=1;t<e+1;t++)o+=String(t)+"; ";addError("Error",o)}else{$("#confirmModal").hide();let e=$('input[name="`__RequestVerificationToken`"]').val();showLoader(),$("#sendBtn").attr("disabled","disabled"),$.ajax({type:"POST",url:"/ExamApproaches/FinishExam",contentType:"application/x-www-form-urlencoded; charset=utf-8",dataType:"JSON",data:{__RequestVerificationToken:e,exam:model},success:function(e){$("#sendBtn").removeAttr("disabled"),e[0]?location.href="/StartExam/"+model.code+"/?info="+e[1]:location.href="/StartExam/"+model.code+"/?error="+e[1]},error:function(e){hideLoader(),addError("Error",e),$("#sendBtn").removeAttr("disabled")}})}}function examTimer(){let e=setInterval(function(){let t=(new Date).getTime(),o=countDownDate-t,n=Math.floor(o%864e5/36e5),s=Math.floor(o%36e5/6e4),r=Math.floor(o%6e4/1e3);o<6e4&&(document.getElementById("counter").classList.add("text-danger"),document.getElementById("counter").classList.add("bold"),document.getElementById("clock").classList.add("text-danger"),document.getElementById("clock").classList.remove("orange"));let d=n<10?"0"+String(n):n,l=s<10?"0"+String(s):s,a=r<10?"0"+String(r):r;document.getElementById("counter").innerHTML=d+"h "+l+"m "+a+"s",o<2e4&&document.getElementById("counterContent").classList.contains("hidden")&&toogleTimer(),o<0&&(clearInterval(e),document.getElementById("counter").innerHTML="00h 00m 00s")},1e3)}function toogleTimer(){document.getElementById("counterContent").classList.contains("hidden")?(document.getElementById("counterContent").classList.remove("hidden"),document.getElementById("timer").classList.remove("timerSmall"),document.getElementById("arrow").classList.remove("fa-long-arrow-left"),document.getElementById("arrow").classList.add("fa-long-arrow-right")):(document.getElementById("counterContent").classList.add("hidden"),document.getElementById("timer").classList.add("timerSmall"),document.getElementById("arrow").classList.remove("fa-long-arrow-right"),document.getElementById("arrow").classList.add("fa-long-arrow-left"))}